# 19. Apply file handling and loop concept in python to create a program that counts the number of lines in text file.

To create a program that counts the number of lines in a text file, you need to:
1.  Open the file using Python's file handling capabilities. The `with` statement is best practice for this.
2.  Loop through the file. An efficient way to do this is to treat the file object as an iterable, where each iteration yields one line.
3.  Use a counter variable to keep track of the number of lines.

## Program

Here is the Python code to accomplish this. First, let's create a sample text file to work with.

### Step 1: Create a Sample File

```python
# This part of the code just creates a file for the example.
file_content = """Hello, this is the first line.
This is the second line.
And here is the third.
The fourth line is here.
"""

# The 'with' statement ensures the file is properly closed.
with open('my_text_file.txt', 'w') as f:
    f.write(file_content)

print("Sample file 'my_text_file.txt' created.")
```

### Step 2: The Line-Counting Program

This program opens the file, loops through it line by line, and counts each line.

```python
# Initialize a counter
line_count = 0
file_name = 'my_text_file.txt'

try:
    # Open the file in read mode ('r')
    with open(file_name, 'r') as file:
        # Loop through each line in the file
        for line in file:
            # Increment the counter for each line
            line_count += 1

    # Print the final count
    print(f"\nThe number of lines in '{file_name}' is: {line_count}")

except FileNotFoundError:
    print(f"Error: The file '{file_name}' was not found.")
except Exception as e:
    print(f"An error occurred: {e}")

```

### Output of the Program:
```
Sample file 'my_text_file.txt' created.

The number of lines in 'my_text_file.txt' is: 4
```

## Alternative (More Concise) Method

A more "Pythonic" and concise way to achieve the same result is to use the fact that `sum()` can operate on a generator expression.

```python
try:
    with open('my_text_file.txt', 'r') as file:
        # This reads all lines into a list and gets its length
        count = len(file.readlines())
    print(f"\n(Alternative method) The number of lines is: {count}")
except FileNotFoundError:
    print("File not found.")
```
 While the second method is shorter, the first method (using a `for` loop) is more memory-efficient for very large files, as it reads the file one line at a time instead of loading all lines into memory at once.
